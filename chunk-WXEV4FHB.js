import{$ as N,D as A,F as s,H as R,I as S,J as k,K as C,L as b,M as i,N as o,O as h,P as T,Q as u,R as _,S as L,T as l,U as g,Y as B,_ as E,aa as O,fa as J,ga as G,ha as H,j as U,m as w,o as f,p as y,s as M,t as d,w as r,z as c}from"./chunk-F6IHTXAK.js";function Q(a,t){if(a&1&&(i(0,"dt",2),l(1," Tel "),i(2,"span",1),l(3),o()(),i(4,"dd",4),l(5),o()),a&2){let e=t.$implicit,n=t.$index;r(3),g(n+1),r(2),g(e)}}var I=class a{data=d.required();labelNumber=d.required();numberOfTels=E(()=>this.data().tels.length);static \u0275fac=function(e){return new(e||a)};static \u0275cmp=c({type:a,selectors:[["app-display-tels"]],inputs:{data:[1,"data"],labelNumber:[1,"labelNumber"]},decls:15,vars:3,consts:[[1,"-cmp-header"],[1,"-cl-title-number","app-cl-number"],[1,"-cl-title"],[1,"-cl-total-tels"],[1,"app-cl-number"],[1,"-cmp-data-list"]],template:function(e,n){e&1&&(i(0,"h2",0)(1,"span"),l(2," Contact "),i(3,"span",1),l(4),o()(),i(5,"span",2),l(6),o(),i(7,"span",3),l(8,"("),i(9,"span",4),l(10),o(),l(11,")"),o()(),i(12,"dl",5),C(13,Q,6,2,null,null,S),o()),e&2&&(r(4),g(n.labelNumber()),r(2),g(n.data().name),r(4),g(n.numberOfTels()),r(3),b(n.data().tels))},styles:[".-cmp-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;column-gap:8px;justify-content:space-between;align-items:baseline;position:sticky;top:0;background-color:var(--app-background-color);border-bottom:1px solid black}.-cmp-header[_ngcontent-%COMP%] > .-cl-title[_ngcontent-%COMP%]{width:12ch;display:flex;flex-direction:row;align-items:baseline}.-cmp-header[_ngcontent-%COMP%] > .-cl-title[_ngcontent-%COMP%] > .-cl-title-number[_ngcontent-%COMP%]{margin-left:auto}.-cmp-data-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:12ch 1fr}.-cmp-data-list[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-bottom:1em}.-cmp-data-list[_ngcontent-%COMP%] > .-cl-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline;font-weight:700}.-cmp-data-list[_ngcontent-%COMP%] > .-cl-title[_ngcontent-%COMP%] > .-cl-title-number[_ngcontent-%COMP%]{margin-left:auto}.-cl-title-number[_ngcontent-%COMP%]{display:inline-block;width:3ch;padding-left:1ch;padding-right:1ch}"],changeDetection:0})};function W(a,t){if(a&1&&h(0,"app-display-tels",0),a&2){let e=t.$implicit,n=t.$index;s("data",e)("labelNumber",n+1)}}var $=class a{data=d.required();static \u0275fac=function(e){return new(e||a)};static \u0275cmp=c({type:a,selectors:[["app-display-contacts"]],inputs:{data:[1,"data"]},decls:2,vars:0,consts:[[3,"data","labelNumber"]],template:function(e,n){e&1&&C(0,W,1,2,"app-display-tels",0,S),e&2&&b(n.data())},dependencies:[I],styles:["[_nghost-%COMP%]{box-sizing:border-box;display:block}"],changeDetection:0})};var K="example-data",v=class a{get(){let t=localStorage.getItem(K);return JSON.parse(t??"null")}set(t){let e=JSON.stringify(t);localStorage.setItem(K,e)}static \u0275fac=function(e){return new(e||a)};static \u0275prov=U({token:a,factory:a.\u0275fac,providedIn:"root"})};function X(a,t){if(a&1&&h(0,"app-display-contacts",0),a&2){let e=_();s("data",e.data)}}function Y(a,t){a&1&&(i(0,"p",1)(1,"strong"),l(2,"No data in storage!!"),o()())}var V=class a{data=w(v).get();static \u0275fac=function(e){return new(e||a)};static \u0275cmp=c({type:a,selectors:[["app-example-display-page"]],decls:2,vars:1,consts:[[1,"app-cl-main-content",3,"data"],[1,"app-cl-main-content","app-cl-warn"]],template:function(e,n){e&1&&A(0,X,1,1,"app-display-contacts",0)(1,Y,3,0,"p",1),e&2&&R(n.data?0:1)},dependencies:[$],encapsulation:2,changeDetection:0})};var F=class a{static \u0275fac=function(e){return new(e||a)};static \u0275cmp=c({type:a,selectors:[["app-example-page"]],decls:9,vars:0,consts:[[1,"app-cmp-links"],["routerLink","display","routerLinkActive","app-st-active"],["routerLink","update","routerLinkActive","app-st-active"]],template:function(e,n){e&1&&(i(0,"nav",0)(1,"ul")(2,"li")(3,"a",1),l(4,"Display"),o()(),i(5,"li")(6,"a",2),l(7,"Update"),o()()()(),h(8,"router-outlet"))},dependencies:[J,G,H],encapsulation:2,changeDetection:0})};function Z(a,t){if(a&1){let e=T();i(0,"div",10)(1,"label",11)(2,"b",5),l(3,"Tel "),i(4,"span",6),l(5),o()(),i(6,"input",12,1),u("change",function(){let p=f(e).$index,m=L(7),P=_();return y(P.changeTelValue(p,m.value))}),o()(),i(8,"button",9),u("click",function(){let p=f(e).$index,m=_();return y(m.deleteTel(p))}),i(9,"i",4),l(10,"delete_forever"),o()()()}if(a&2){let e=t.$implicit,n=t.$index,p=t.$count;r(5),g(n+1),r(),s("value",e.value),r(2),s("disabled",p===1)}}var j=class a{data=d.required();labelNumber=d.required();deletionDisabled=d(!1,{transform:B});dataChange=M();dataDelete=M();name=O(()=>this.data().name);tels=O(()=>(this.data().tels.length===0?[""]:this.data().tels).map(t=>({value:t})));numberOfTels=E(()=>this.tels().length);constructor(){N(()=>this.dataChange.emit({name:this.name(),tels:this.tels().map(t=>t.value)}))}addTel(){this.tels.update(t=>(t.push({value:""}),[...t]))}deleteTel(t){this.tels.update(e=>(e.splice(t,1),[...e]))}changeName(t){this.name.set(t)}changeTelValue(t,e){this.tels.update(n=>(n[t].value=e,[...n]))}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=c({type:a,selectors:[["app-dynamic-tels"]],hostAttrs:["role","region"],inputs:{data:[1,"data"],labelNumber:[1,"labelNumber"],deletionDisabled:[1,"deletionDisabled"]},outputs:{dataChange:"dataChange",dataDelete:"dataDelete"},decls:22,vars:4,consts:[["nameInput",""],["inputTel",""],[1,"-cmp-header"],["type","button",1,"app-cl-button","app-cl-primary",3,"click"],[1,"material-symbols-outlined"],[1,"-cl-title"],[1,"-cl-title-number","app-cl-number"],["type","text",3,"change","value"],[1,"app-cl-number"],["type","button",1,"app-cl-button","app-cl-warn",3,"click","disabled"],[1,"-cmp-tel"],[1,"-cl-control"],["type","text",1,"app-cl-number",3,"change","value"]],template:function(e,n){if(e&1){let p=T();i(0,"header",2)(1,"button",3),u("click",function(){return f(p),y(n.addTel())}),i(2,"i",4),l(3,"add"),o(),l(4," Tel "),o(),i(5,"label",5)(6,"b"),l(7,"Contact "),i(8,"span",6),l(9),o()(),i(10,"input",7,0),u("change",function(){f(p);let P=L(11);return y(n.changeName(P.value))}),o(),i(12,"span"),l(13,"("),i(14,"span",8),l(15),o(),l(16,")"),o()(),i(17,"button",9),u("click",function(){return f(p),y(n.dataDelete.emit())}),i(18,"i",4),l(19,"delete_forever"),o()()(),C(20,Z,11,3,"div",10,k)}e&2&&(r(9),g(n.labelNumber()),r(),s("value",n.name()),r(5),g(n.numberOfTels()),r(2),s("disabled",n.deletionDisabled()),r(3),b(n.tels()))},styles:["[_nghost-%COMP%]{box-sizing:border-box;display:flex;flex-direction:column}.-cmp-header[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:.5em 0;display:flex;flex-direction:row;column-gap:8px;align-items:center;justify-content:space-between;background-color:var(--app-background-color);position:sticky;top:var(---actions-bar-height);z-index:9998;border-bottom:1px solid black}.-cmp-header[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0}.-cmp-header[_ngcontent-%COMP%] > .-cl-title[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;align-items:baseline}.-cmp-tel[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;display:flex;flex-direction:row}.-cmp-tel[_ngcontent-%COMP%]:first-of-type{margin-top:1em}.-cmp-tel[_ngcontent-%COMP%]:last-of-type{margin-bottom:1em}.-cmp-tel[_ngcontent-%COMP%] > .-cl-control[_ngcontent-%COMP%]{flex:1 0 auto;box-sizing:border-box;display:flex;flex-direction:row;align-items:baseline}.-cmp-tel[_ngcontent-%COMP%] > .-cl-control[_ngcontent-%COMP%] > .-cl-title[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;align-items:baseline;width:12ch}.-cmp-tel[_ngcontent-%COMP%] > .-cl-control[_ngcontent-%COMP%] > .-cl-title[_ngcontent-%COMP%] > .-cl-title-number[_ngcontent-%COMP%]{margin-left:auto}.-cmp-tel[_ngcontent-%COMP%] > .-cl-control[_ngcontent-%COMP%] > :is(input[_ngcontent-%COMP%], output[_ngcontent-%COMP%]){flex:1 0 auto;box-sizing:border-box;height:100%}.-cmp-tel[_ngcontent-%COMP%] > .-cl-control[_ngcontent-%COMP%] > :is(input[_ngcontent-%COMP%], output[_ngcontent-%COMP%]):is(output[_ngcontent-%COMP%]){padding-right:2ch;font-weight:700;text-decoration:underline double}.-cl-title-number[_ngcontent-%COMP%]{display:inline-block;width:3ch;padding-left:1ch;padding-right:1ch}input[_ngcontent-%COMP%]:invalid{background-color:var(--app-warn-color)}"],changeDetection:0})};function ee(a,t){if(a&1){let e=T();i(0,"app-dynamic-tels",4),u("dataChange",function(p){let m=f(e).$index,P=_();return y(P.changeItem(m,p))})("dataDelete",function(){let p=f(e).$index,m=_();return y(m.deleteItem(p))}),o()}if(a&2){let e=t.$implicit,n=t.$index,p=t.$count;s("data",e)("labelNumber",n+1)("deletionDisabled",p===1)}}var z=class a{data=d.required();dataChange=M();items=O(()=>this.data().length===0?[{name:"",tels:[]}]:this.data());constructor(){N(()=>this.dataChange.emit(this.items()))}addItem(){this.items().push({name:"",tels:[]})}deleteItem(t){this.items.update(e=>(e.splice(t,1),[...e]))}changeItem(t,e){this.items.update(n=>(n[t].name=e.name,n[t].tels=e.tels,[...n]))}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=c({type:a,selectors:[["app-dynamic-contacts"]],inputs:{data:[1,"data"]},outputs:{dataChange:"dataChange"},decls:7,vars:0,consts:[[1,"-cmp-actions-bar"],["button","add",1,"app-cl-button","app-cl-primary",3,"click"],[1,"material-symbols-outlined"],[3,"data","labelNumber","deletionDisabled"],[3,"dataChange","dataDelete","data","labelNumber","deletionDisabled"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"button",1),u("click",function(){return n.addItem()}),i(2,"i",2),l(3,"post_add"),o(),l(4," Contact "),o()(),C(5,ee,1,3,"app-dynamic-tels",3,k)),e&2&&(r(5),b(n.items()))},dependencies:[j],styles:["[_nghost-%COMP%]{box-sizing:border-box;display:flex;flex-direction:column;---actions-bar-height: 64px}.-cmp-actions-bar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:9999;height:var(---actions-bar-height);background-color:var(--app-background-color);display:flex;flex-direction:row;align-items:center;justify-content:center;column-gap:8px}"],changeDetection:0})};var q=class a{service=w(v);data=this.service.get()??[];static \u0275fac=function(e){return new(e||a)};static \u0275cmp=c({type:a,selectors:[["app-example-update-page"]],decls:1,vars:1,consts:[[1,"app-cl-main-content",3,"dataChange","data"]],template:function(e,n){e&1&&(i(0,"app-dynamic-contacts",0),u("dataChange",function(m){return n.service.set(m)}),o()),e&2&&s("data",n.data)},dependencies:[z],encapsulation:2,changeDetection:0})};var je=[{path:"",component:F,children:[{path:"",redirectTo:"display",pathMatch:"full"},{path:"display",component:V},{path:"update",component:q}]}];export{je as default};
